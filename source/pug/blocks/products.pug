mixin product(item)
  - var productTitle = `Cat Energy ${item.type} ${item.weight}${'&nbsp;'}г`;
  - var imgSizeName = item.weight === 500 ? "small" : "big";
  - var imgName = `${item.tasteImgName}-${imgSizeName}-mobile@1x.jpg`;

  article.product
    .product__wrapper-img-properties
      picture.product__wrapper-img
        source(media=`(min-width:${media[0].resolution}px)`
          srcset=`${path.images}${item.tasteImgName}-${imgSizeName}-desktop@1x.png 1x,
          ${path.images}${item.tasteImgName}-${imgSizeName}-desktop@2x.png 2x`)

        source(media=`(min-width:${media[1].resolution}px)`
          srcset=`${path.images}${item.tasteImgName}-${imgSizeName}-tablet@1x.png 1x,
          ${path.images}${item.tasteImgName}-${imgSizeName}-tablet@2x.png 2x`)

        img.product__img(
          src=   `${path.images}${item.tasteImgName}-${imgSizeName}-mobile@1x.jpg`
          srcset=`${path.images}${item.tasteImgName}-${imgSizeName}-mobile@2x.jpg 2x`
          width='140' height='144'
          alt=`${productTitle}рамм ${item.taste}`)

      .product__wrapper-properties
        h3.product__title !{productTitle}
        dl.product__properties
          .product__properties-row
            dt.product__properties-item Масса
            dd.product__properties-item #{item.weight} г
          .product__properties-row
            dt.product__properties-item Вкус
            dd.product__properties-item #{item.taste}
          .product__properties-row
            dt.product__properties-item Цена
            dd.product__properties-item #{item.price} Р.
    +button-order('Заказать')(href='#').product__button

section.products
  .products__wrapper-title
    .container
      h2.products__title.heading-big #{site.catalog.title}
  ul.products__list
    li.products__item
      +product({
        type: "pro",
        weight: 500,
        taste: "Курица",
        tasteImgName: "chicken",
        price: 700,
        })
    li.products__item
      +product({
        type: "pro",
        weight: 1000,
        taste: "Курица",
        tasteImgName: "chicken",
        price: 1000,
        })
    li.products__item
      +product({
        type: "pro",
        weight: 500,
        taste: "Рыба",
        tasteImgName: "fish",
        price: 700,
        })
    li.products__item
      +product({
        type: "pro",
        weight: 1000,
        taste: "Рыба",
        tasteImgName: "fish",
        price: 1000,
        })
    li.products__item
      +product({
        type: "slim",
        weight: 500,
        taste: "Гречка",
        tasteImgName: "buckwheat",
        price: 400,
        })
    li.products__item
      +product({
        type: "slim",
        weight: 1000,
        taste: "Гречка",
        tasteImgName: "buckwheat",
        price: 700,
        })
    li.products__item
      +product({
        type: "slim",
        weight: 500,
        taste: "Рис",
        tasteImgName: "rice",
        price: 500,
        })

    li.products__item
      .product.product--showmore
        svg.product__plus-sign(width='30' height='30')
          use(href=`${path.sprite}#icon-plus`)
        h3.product__title.product__title--showmore Показать еще 100500 товаров
        p.product__properties-item.product__properties-item--showmore На самом деле вкусов гораздо больше!

        +button-grey('Показать все')(href='#')
